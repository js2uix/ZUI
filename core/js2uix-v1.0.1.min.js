!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?(module.exports=e(t,!0),t.document||(module.exports=function(t){if(!t.document)throw new Error("js2uix-zui is not support this browser!");return e(t)})):e(t)}("undefined"!=typeof window?window:this,function(u,t){"use strict";var p,f="js2uix",h=u.document,a=Object.setPrototypeOf,r=Object.getPrototypeOf,o=function(t){var e,i,s,n=[];for(e=0;e<t.length;e++)if(t[e].name===f)for(i=0;i<t[e].length;i++)n.push(t[e][i]);else if(t[e].nodeType)n.push(t[e]);else if("string"==typeof t[e]){var a=t[e],r=d(a);if(r.tagType&&0<r.tagType.length)for(a=p(a),s=0;s<a.length;s++)n.push(a[s]);else a=h.createTextNode(a),n.push(a)}return n},d=function(t){var e=t.replace(/\s/gi,""),i=e.match(/^#|^\./gi),s=t.match(/(<([^>]+)>)/gi),n=t.match(/[`~!@#$%^&*|\\\'\";:\/?]/gi);if(i&&n)for(var a=t.split(" "),r=0;r<a.length;r++){var o=a[r].match(/[`~!@#$%^&*|\\\'\";:\/?]/gi);(!o||1<o.length)&&(i=null)}return{full:e,idClass:i,tagType:s,spType:n}},i=function(){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",e="",i=0;i<8;i++){var s=Math.floor(Math.random()*t.length);e+=t.substring(s,s+1)}return String(Date.now()).substring(0,4)+e};(p=function(t){return new p.fx.init(t)}).fx=p.prototype={zui:"v1.0.1",constructor:p,query:function(t,e){var i=Array.prototype.slice.call(arguments),s=p.extend([],i.shift());s.name=f,a?s=a(s,r(e)):s.__proto__=r(e);for(var n=0;n<s.length;n++)s[n][f]||(s[n][f]={events:{},data:{}});return s}},p.fx.init=function(t){if(!t)return this;if("string"==typeof t){var e,i,s=d(t),n=s.full,a=s.idClass,r=s.tagType,o=s.spType;n&&(1<n.length&&a&&0<a.length?t=h.querySelectorAll(t):!a&&r&&0<r.length?(e=r[0].replace(/^<(.+?)>/g,function(t,e){return e}),1===r.length&&e.indexOf("input")<0?t=[h.createElement(e)]:((i=h.createElement(f)).innerHTML=t,(t=[i])[0].nodeName.toLowerCase()===f&&(t=t[0].childNodes))):t=a||o||r?!a&&1<n.length&&(-1!==o.indexOf(".")||-1!==o.indexOf("#"))?h.querySelectorAll(t):[h.createTextNode(t)]:h.querySelectorAll(t))}else if(t.nodeType)t=[t];else{if(t.name&&t.name===f)return t;if("function"==typeof t)return p.loaded(this,t);t===u&&(t=[u])}return p.fx.query(t,this)},p.fx.init.prototype=p.fx,p.extend=p.fx.extend=function(){var t,e=arguments,i=e[0]||{},s=e.length,n=1;for(i="object"!=typeof i&&"function"!=typeof i?{}:i,n===s&&(i=this,n--);n<s;n++)if(t=e[n])for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);return i},p.extend({typeIs:function(t){return null===t?t+"":"object"==typeof t||"function"==typeof t?Array.isArray(t)?"array":"function"==typeof t?"function":"object":typeof t},isArray:function(t){var e=p.typeIs(t),i=!!t&&"length"in t&&t.length;return(null==t||t!==t.window)&&"function"!==e&&!!("array"===e||0===i||"number"===e&&0<i&&i-1 in t)},isFunction:function(t){return"function"==typeof t},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t}}),p.extend({addId:function(t,e){t&&e&&"string"==typeof e&&(t.id=e)},removeId:function(t,e){t&&e&&"string"==typeof e&&(t.id="")},hasId:function(t,e){var i=!1;return t&&e&&"string"==typeof e&&t.id===e&&(i=!0),i},addClass:function(t,e){if(t&&e&&"string"==typeof e&&0<(e=e.split(" ")).length)for(var i=0;i<e.length;i++)t.classList?t.classList.add(e[i]):t.className+=" "+e},removeClass:function(t,e){t&&e&&"string"==typeof e&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(t,e){var i=!1;return t&&e&&"string"==typeof e&&(i=t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)),i},addAttr:function(t,e,i){if(t&&e&&i&&"string"==typeof e&&"string"==typeof i)t.setAttribute(e,i);else if("object"==typeof e)for(var s in e)t.setAttribute(s,e[s])},removeAttr:function(t,e){t&&e&&"string"==typeof e&&t.removeAttribute(e)},getAttr:function(t,e){if(t){if(e&&"string"==typeof e)return t.getAttribute(e)||void 0;if(!e)return t.attributes}}}),p.fx.extend({addId:function(t){return p.addId(this[0],t),this},removeId:function(t){return p.removeId(this[0],t),this},hasId:function(t){return p.hasId(this[0],t)},addClass:function(t){for(var e=0;e<this.length;e++)p.addClass(this[e],t);return this},removeClass:function(t){for(var e=0;e<this.length;e++)p.removeClass(this[e],t);return this},hasClass:function(t){return p.hasClass(this[0],t)},addAttr:function(t,e){for(var i=0;i<this.length;i++)p.addAttr(this[i],t,e);return this},removeAttr:function(t){for(var e=0;e<this.length;e++)p.removeAttr(this[e],t);return this},getAttr:function(t){if(0!==this.length)return p.getAttr(this[0],t)}}),p.extend({loop:function(t,e){var i,s=0;if(p.isArray(t))for(i=t.length;s<i&&!1!==e.call(t[s],s,t[s]);s++);else for(s in t)if(!1===e.call(t[s],s,t[s]))break;return t},map:function(t,e){var i,s=0,n=p.isArray(t)?[]:{};if(p.extend(n,t,!0),p.isArray(t))for(i=t.length;s<i;s++)void 0!==e(s,t[s])&&(n[s]=e(s,t[s]));else for(s in t)void 0!==e(s,t[s])&&(n[s]=e(s,t[s]));return n},loaded:function(t,e){return"object"==typeof t&&t.hasOwnProperty("name")&&t.name===f&&-1===["document","window","html","body"].indexOf(t[0].nodeName.toLowerCase())&&(t=t[t.length-1],e=e.bind(t)),(h.attachEvent?"complete"===h.readyState:"loading"!==h.readyState)?e():h.addEventListener("DOMContentLoaded",e),p(t)},createDom:function(){var t,e,i=arguments,s=i[0],n=i[1],a=i[2];if(s&&"string"==typeof s&&(t=h.createElement(s),e=p(t),n&&"object"==typeof n))for(var r in n){var o=n[r];if("className"===r&&p.addClass(t,o),"idName"===r&&p.addId(t,o),"attributes"===r&&"object"==typeof o)for(var d in o)p.addAttr(t,d,o[d]);"styles"===r&&"object"==typeof o&&e.css(o),"content"===r&&e.html(o)}return Boolean(a),a?p(t):t},uiComponent:new function(){return this.module={},this.setModule=function(t,e){this.module[t]=e},this.getModule=function(t){return setTimeout(function(){delete this.module[t]}.bind(this),1e3),this.module[t]},{setModule:this.setModule.bind(this),getModule:this.getModule.bind(this)}}}),p.fx.extend({loop:function(t){return p.loop(this,t)},loaded:function(t){t&&"function"==typeof t&&p.loaded(this,t)},find:function(t){var e=[];return t&&"string"==typeof t&&(e=this[0].querySelectorAll(t)),p(e)},parent:function(t){var e=[];if(t&&"string"==typeof t){var i,s=this[0].parentNode.parentNode;if(s){i=s.querySelectorAll(t);for(var n=0;n<i.length;n++)this[0].parentNode===i[n]&&e.push(i[n])}}else e=this[0].parentNode;return p(e)},parents:function(t){var e=[];if(t&&"string"==typeof t){var i=this[0].parentNode;if(t.match(/^#|^\./gi))for(;i&&"html"!==i.nodeName.toLowerCase();){var s=t.substr(1,t.length);if(p.hasClass(i,s)||p.hasId(i,s)){e=i;break}i=i.parentNode}else for(;i&&"html"!==i.nodeName.toLowerCase();){if(i.nodeName.toLowerCase()===t){e=i;break}i=i.parentNode}}return p(e)},hasParents:function(t){var e=!1;if(t&&"string"==typeof t){var i=this[0].parentNode;if(t.match(/^#|^\./gi))for(;i&&"html"!==i.nodeName.toLowerCase();){var s=t.substr(1,t.length);if(p.hasClass(i,s)||p.hasId(i,s)){e=!0;break}i=i.parentNode}}return e},children:function(t){var e,i=[],s=this[0].children;if(t&&"string"==typeof t){var n=t.substr(1,t.length);for(e=0;e<s.length;e++)(p.hasClass(s[e],n)||p.hasId(s[e],n))&&i.push(s[e])}else if(!t)for(e=0;e<s.length;e++)i.push(s[e]);return p(i)},hasChild:function(t){return 0<this.find(t).length&&t&&"string"==typeof t},nextNode:function(){return this[0].nextElementSibling?p(this[0].nextElementSibling):void 0},prevNode:function(){return this[0].previousElementSibling?p(this[0].previousElementSibling):void 0},firstNode:function(){return this.length<2?this:p(this[0])},lastINode:function(){return this.length<2?this:p(this[this.length-1])},siblingNodes:function(){if(0<this.length){for(var t=this[0],e=t.parentNode.childNodes,i=[],s=0;s<e.length;s++)t!==e[s]&&i.push(e[s]);try{return p(i)}finally{i=e=null}}},append:function(){var t=arguments;if(0<t.length){var e,i=o(t);for(e=0;e<i.length;e++)this[0].appendChild(i[e])}return this},prepend:function(){var t=arguments;if(0<t.length){var e,i,s=o(t);for(e=0;e<s.length;e++)(i=this[0].firstChild)?this[0].insertBefore(s[e],i):this[0].appendChild(s[e])}return this},after:function(){var t=arguments;if(0<t.length){var e,i=this[0].parentNode,s=o(t),n=this[0].nextSibling;for(e=0;e<s.length;e++)n?i.insertBefore(s[e],n):i.appendChild(s[e]),n=n?n.nextSibling:null}return this},before:function(){var t=arguments;if(0<t.length){var e,i=this[0].parentNode,s=o(t);for(e=0;e<s.length;e++)i.insertBefore(s[e],this[0])}return this},html:function(t){if(0<this.length){for(var e=0;e<this.length;e++)this[e].innerHTML="";t&&this.append(t)}return this},empty:function(){this.html()},replace:function(t){var e=this,i=this[0],s=i.parentNode;if(t&&("string"==typeof t||"object"==typeof t)){if("string"==typeof t){var n=d(t);e=n.idClass||n.spType||n.tagType?p(t):p(h.createTextNode(t))}else t.name&&t.name===f?e=t:t.nodeName&&(e=p[t]);p(i).after(e),s.removeChild(i)}return e},remove:function(){for(var t=this.length-1;0<=t;t--){var e=this[t];if(e){var i=this[t].parentNode;i&&i.removeChild(e)}}}});var l=function(t,e){var i,s,n,a="",r=t.replace(/^-/gi,"").split("-");for(i=0;i<r.length;i++)a+=0===i?r[i]:r[i].charAt(0).toUpperCase()+r[i].slice(1);"zIndex"===a||"opacity"===a||isNaN(parseInt(e))||(s="string"==typeof e&&-1!==e.indexOf("%")?"%":"px",e=parseInt(e)+s),n=[a,e];try{return n}finally{r=a=n=null}},e=function(t,e,i){return 0===i||"number"==typeof i?(t.css(e,i),this):i&&null!==i?void 0:t.css(e)};p.fx.extend({css:function(){var t=arguments,e=t.length;if(t&&0<e&&e<=2){var i=[];if(1===e&&"string"==typeof t[0]){if(this[0]!==h&&this[0]!==u){var s=u.getComputedStyle(this[0],null).getPropertyValue(t[0])||this[0].style[t[0]];return isNaN(parseInt(s))?s:parseInt(s)}}else if(1===e&&"object"==typeof t[0])for(var n in t[0])i.push(l(n,t[0][n]));else 2!==e||"string"!=typeof t[0]||"string"!=typeof t[1]&&"number"!=typeof t[1]||i.push(l(t[0],t[1]));for(var a=0;a<this.length;a++)for(var r=0;r<i.length;r++)this[a].style[i[r][0]]=i[r][1]}return this},top:function(t){return e(this,"top",t)},left:function(t){return e(this,"left",t)},width:function(t){return e(this,"width",t)},height:function(t){return e(this,"height",t)},offset:function(){if(this[0]){var t=this[0].getBoundingClientRect(),e={x:t.x,y:t.y,top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:t.width,height:t.height,paddingL:this.css("padding-left"),paddingR:this.css("padding-right"),paddingT:this.css("padding-top"),paddingB:this.css("padding-bottom")};return this[0].getClientRects().length?e:void 0}},fadeIn:function(s,n){return p.loop(this,function(){var e=this;e.style.display="block",e.style.opacity=0;var i=+new Date;!function t(){e.style.opacity=+e.style.opacity+(new Date-i)/(300|s),i=+new Date,+e.style.opacity<1&&(u.requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,16)),1<+e.style.opacity&&(e.style.opacity=1,"function"==typeof n&&n())}()}),this},fadeOut:function(s,n){return p.loop(this,function(){var e=this,i=+new Date;e.style.opacity=1,function t(){e.style.opacity=+e.style.opacity-(new Date-i)/(s||500),i=+new Date,0<+e.style.opacity&&(u.requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,16)),+e.style.opacity<.1&&(e.style.display="none",e.style.opacity=0,"function"==typeof n&&n())}()}),this}});var c=function(t,e){var i=e[0].split("."),s=i[1];p.loop(t,function(){var t=i[0];this[f].events[t]||(this[f].events[t]=[]),this.addEventListener(i[0],e[e.length-1],!1),this[f].events[t].push({eventName:t,eventKey:s||null,handler:e[e.length-1]})})},s=function(t,u){p.loop(t,function(){var t,e,i=this[f].events;if(u){var s,n=u.length,a=u[0],r=u[u.length-1],o=u[0].split("."),d=o[0],h=o[1]||null;if(1===n&&"string"==typeof a)if("all"===d)for(var l in i)for(e=0;e<i[l].length;e++)s=i[l][e],this.removeEventListener(l,s.handler),s.removed=!0;else for(e=0;e<i[d].length;e++)(s=i[d][e]).eventKey===h&&(this.removeEventListener(d,i[d][e].handler),i[d][e].removed=!0);else if(2===n&&"string"==typeof a&&("function"==typeof r||"object"==typeof r))for(e=0;e<i[d].length;e++)(s=i[d][e]).eventKey===h&&r===i[d][e].handler&&(this.removeEventListener(d,i[d][e].handler),i[d][e].removed=!0)}else for(t in i)for(e=0;e<i[t].length;e++)this.removeEventListener(t,i[t][e].handler),i[t][e].removed=!0}),p.loop(t,function(){var t,e,i=this[f].events;for(t in i)for(e=i[t].length-1;0<=e;e--)i[t][e].removed&&i[t].splice(e,1)})};p.fx.extend({addEvent:function(){var t=arguments,e=t.length;if(0<e){var i=typeof t[0],s=typeof t[t.length-1];if("object"===i)for(var n in t[0])c(this,[n,t[0][n]]);else"string"!==i||"function"!==s&&"object"!==s||2===e&&c(this,t)}},removeEvent:function(){var t=arguments;t.length<1?s(this):s(this,t)}});var n=function(t,e){this._target=t,this._onceMemory={success:null,error:!1},this._init(this._target,e)};(n.prototype={_xhr:function(){try{return new u.XMLHttpRequest}catch(t){throw error}},_setDataType:function(t){var e=t.url.split("."),i=e[e.length-1].match(/xml|html|json|js|jsp|asp|php|txt/gi);return i[0]?i[0]&&i[0]!==t.dataType?("js"===i[0]&&(i[0]="script"),i[0]):void 0:"text"},_getOptionObject:function(t,e){var i={url:document.location.href,method:"POST",data:null,async:!0,cache:!0,success:null,error:null,upload:!1,jsonParse:!0,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8"};if((i=p.extend(i,e)).dataType=this._setDataType(e)||i.dataType,t&&(i.type="POST",i.upload=!0,i.url=i.url+"?upload"),!1===e.cache){var s="?";-1!==e.url.indexOf("?")&&(s="&"),e.url=e.url+s+"cache"+Date.now()}return i},_getQueryString:function(t){var i=[];return"object"==typeof t&&p.loop(t,function(t,e){i.push(t+"="+e)}),i.join("&")},_setUploadHandler:function(t,n){t.upload.addEventListener("progress",function(t){var e=0,i=t.loaded||t.position,s=t.total;t.lengthComputable&&(e=Math.ceil(i/s*100)),n.progress&&"function"==typeof n.progress&&n.progress(e)},!1)},_setJsonParseData:function(t,e){var i=e,s=t.dataType;if("script"===s){var n=document.createElement("script");n.type="text/javascript",n.text=i,document.head.appendChild(n).parentNode.removeChild(n),i=n.text}else if("xml"===s||"html"===s){i=(new DOMParser).parseFromString(i,"text/"+s)}else{if("text"===s||"txt"===s)return i;i=t.jsonParse&&JSON.parse(i)||i}return i},_loadAjaxRequest:function(i,t){var s=this,n=this._xhr();n.open(i.method,i.url,i.async),i.data&&!i.upload&&n.setRequestHeader("Content-type",i.contentType),n.upload&&i.upload&&this._setUploadHandler(n,i),n.onload=function(t){if(200<=n.status&&n.status<400&&4==n.readyState){var e=n.responseText;i.success&&"function"==typeof i.success&&(e=s._setJsonParseData(i,e),i.success(e,n.responseText,n),s._onceMemory.error=!1,s._onceMemory.success={value:e,responseText:n.responseText,request:n})}else i.error&&"function"==typeof i.success&&(i.error(),s._onceMemory.error=!0,s._onceMemory.success=null)},n.onerror=function(){i.error&&"function"==typeof i.success&&(i.error(),s._onceMemory.error=!0,s._onceMemory.success=null)},n.send(t)},_setAjaxData:function(t,e){var i;if(e=this._getOptionObject(t,e),t){var s=t[0].querySelectorAll("input[type=file]"),n=t.find("*").not("input[type=file]"),a=0;if(t.attr("enctype","multipart/form-data"),i=new FormData,p.loop(s,function(){var t=this.files;p.loop(t,function(t,e){i.append(t,e),a++})}),p.loop(n,function(){i.append(this.name,this.value),a++}),0===a)return!1}t||(i=this._getQueryString(e.data)),this._loadAjaxRequest(e,i)},_init:function(t,e){if(t&&(!t[0]||"form"!==t[0].nodeName.toLowerCase()))return!1;this._setAjaxData(t,e)},done:function(t){if("function"==typeof t&&!this._onceMemory.error){var e=this._onceMemory.success;try{t(e.value,e.responseText,e.request)}finally{e=null,this._onceMemory.success=null}}},fail:function(t){if("function"==typeof t&&0===this._onceMemory.success.length)try{t()}finally{this._onceMemory.error=!1}}}).constructor=n;var g=function(){return this.location=null,this.hash=null,this.router={},this.setRouter=function(){var t=arguments,e=1<t.length?t[0]:null,i=1<t.length?t[1]:null;if(1===t.length&&(e="/all",i=t[0]),e&&0===e.indexOf("/")){var s=e.substr(1,e.length-1),n=s||"index";this.router[n]=i}},this.getHash=function(){var t=(this.location=u.location).hash,e="index";return t&&0===t.indexOf("#")&&(e=t.substr(2,t.length-1)),this.hash=e},this.checkRouter=function(){var t=this.getHash(),e={location:this.location,urlString:this.hash};"function"==typeof this.router.all&&this.router.all(e),"function"==typeof this.router[t]&&this.router[t](e)},this.setControl=function(){u.addEventListener("load",this.checkRouter.bind(this)),u.addEventListener("hashchange",this.checkRouter.bind(this))},this.init=function(){this.getHash(),this.setControl()},this.init(),{on:this.setRouter.bind(this)}},m=function(t){this.state={},this.props={},this.domState={parent:null,render:null,virtual:null,isMount:!1,uniqueId:Date.now()},t.super&&t.super.call(this),Object.defineProperty(this,"state",{writable:!1})};m.prototype={setState:function(t,e){t&&"object"==typeof t&&!Array.isArray(t)?p.loop(t,function(t,e){this.state[t]=e}.bind(this)):t&&e&&"string"==typeof t&&(this.state[t]=e),this.setUpdateState()},setUpdateState:function(){this.setRender(),"function"==typeof this.onStateWillChange&&this.onStateWillChange()},setProps:function(t){t&&"object"==typeof t&&!Array.isArray(t)&&p.loop(t,function(t,e){this.props[t]=e}.bind(this)),"function"==typeof this.onPropsWillChange&&this.onPropsWillChange()},setPropsState:function(t){return this.setProps(t),this.setRender(t)},setRender:function(){if(this.render&&"function"==typeof this.render){var t=p(this.render());if(this.setForceUpdate(t),t&&this.domState.virtual)return{$$Dom:this.domState.virtual,props:this.setPropsState.bind(this),setRenderState:this.setRenderState.bind(this)}}},setRenderState:function(t){p.loop(t,function(t,e){this.domState[t]=e}.bind(this))},setForceUpdate:function(t){if(this.render&&"function"==typeof this.render&&t&&t[0]&&(t[0][f].componentId=f+this.domState.uniqueId,this.domState.virtual=t[0],this.domState.render||(this.domState.render=t[0]),this.domState.isMount)){var e=this.domState.render,i=this.domState.virtual,u=function(t,e,i){t.insertBefore(e,i)},l=function(o,t,d,h){var l=[];p.loop(t,function(t){var e,i=d[t];if(i){var s=this.nodeName,n=this.nodeType,a=i.nodeName,r=i.nodeType;a===s&&r===n||(h?(e=this.cloneNode(!0),this.parentNode.insertBefore(e,this),u(o,this,i)):l.push(this))}else h?(e=this.cloneNode(!0),this.parentNode.insertBefore(e,this),u(o,this,i)):l.push(this)}),0<l.length&&p.loop(l,function(){var t,e;t=this.parentNode,(e=this)&&t.removeChild(e)})},c=function(t,e){if(1===t.nodeType&&1===e.nodeType){for(var i=t.nodeName.toLowerCase(),s=e.nodeName.toLowerCase(),n=t.childNodes,a=e.childNodes,r=e.attributes,o=0;o<r.length;o++)t.setAttribute(r[o].name,r[o].value);if(("input"===i&&"input"===s||"textarea"===i&&"textarea"===s||"select"===i&&"select"===s)&&(t.value!==e.value&&(t.value=e.value),"password"!==t.type&&"textarea"!==i||t.removeAttribute("value")),n&&a){if(a.length!==n.length)return a.length>n.length?l(t,a,n,!0):l(t,n,a,!1),c(t,e),!1;for(var d=0;d<a.length;d++){var h=a[d][f];h&&""!==h&&h.componentId||c(n[d],a[d])}}}else 3===t.nodeType&&3===e.nodeType&&t.textContent!==e.textContent&&(t.textContent=e.textContent)};c(e,i)}}},p.extend({Ajax:function(t){return new n(null,t)},AjaxDownLoad:function(t,e,i){var s=t[t.length-1],a=0,r=null;function o(t,e,i,s){var n=document.createElement("a");n.href=t+e+"."+i,n.download=e+"."+i,document.body.appendChild(n),n.click(),document.body.removeChild(n),a++,s&&a<r.length&&setTimeout(function(){o(r[a].link,r[a].name,r[a].type,s)},s)}"object"==typeof t||Array.isArray(t)?s&&"number"==typeof s?o((r=t)[a].link,r[a].name,r[a].type,s):p.loop(t,function(t,e){e&&e.link&&e.name&&e.type&&o(e.link,e.name,e.type,!1)}):o(t,e,i,!1)},Component:function(t){var e,i=function(t){return m.call(this,t),this.setRender.call(this)};for(e in(i.prototype=Object.create(m.prototype)).constructor=i,t)t.hasOwnProperty(e)&&"super"!==e&&(i.prototype[e]=t[e]);return new i(t)},Export:function(t,e){p.uiComponent.setModule(t,e)},Import:function(t){return p.uiComponent.getModule(t)},Render:function(){var t=arguments;if(t&&1<t.length)for(var e=p(t[t.length-1])[0],i=0;i<t.length-1;i++){var s=t[i],n=s.$$Dom;n&&e&&(p(e).append(n),s.setRenderState({parent:e,render:n,isMount:!0}))}},Router:function(){return new g}}),p.fx.extend({AjaxFrom:function(t){return new n(this,t)}});var x=function(t,e){return this.d3={},this.nodes={},this.target=t,this.props={chartType:"",nameAxisX:"",typeAxisX:"string",timeAxisX:["week",1],timeFormat:"%Y-%m-%d",tickAxisY:10,tickGridY:10,tickGridOpacity:.2,tickGridDashNum:2,rotateAxisX:0,posXAxisX:10,posYAxisX:10,fontSizeX:11,fontSizeY:11,fontSizeTitle:12,nameAxisY:"",typeAxisY:"number",title:"",titleBox:!0,lineCurve:!0,colorful:!0,colorAlpha:1,circleThickNum:.5,layoutW:0,layoutH:0,duration:200,gridLine:!0,groupInfoBox:!0,shadeColor:""},this.state={autoMode:!1,clear:!1,colorArray:["#add5d7","#47acb1","#ffe8af","#ffcd33","#f9aa7b","#f26522","#7fb6ff","#7876ff","#a5a8aa","#676766"],dataLength:0,idName:"",max_width:1740,min_width:300,min_height:200,resize:!1,uniqueId:"",uniqueName:"",update:!1},this.axis=null,this.init(e),{name:"js2uix-d3-chart",setData:this.setData.bind(this)}};(x.prototype={uiChartClass:"js2uix-d3",renderChartDefaultSetting:function(t){0<t.length&&(this.state.uniqueId=i(),this.state.uniqueName="js2uix"+this.state.uniqueId,t.addClass(this.uiChartClass),t[0].id||t.addId(f+this.state.uniqueId),this.state.idName=t.getAttr("id"))},setUserShadeColorSetting:function(t){if(t){for(var e=t.replace("#",""),i=parseInt(e.substring(0,2),16),s=parseInt(e.substring(2,4),16),n=parseInt(e.substring(4,6),16),a=255/(10*Math.max(i,Math.max(s,n))),r=[],o=2;o<12;o++)r.push((d=(d="rgb("+parseInt(i*a*o)+","+parseInt(s*a*o)+","+parseInt(n*a*o)+",1)").match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===d.length?"#"+("0"+parseInt(d[1],10).toString(16)).slice(-2)+("0"+parseInt(d[2],10).toString(16)).slice(-2)+("0"+parseInt(d[3],10).toString(16)).slice(-2):"");0<r.length&&(this.state.colorArray=r)}var d},setCommonChartInfoString:function(t){var e="Max",i=this.props.fontSizeTitle;this.props.titleBox&&("number"!=typeof i&&(i=12),this.axis.axis_string&&(e=this.axis.axis_string),"basic"===t?this.nodes.title_g.attr("transform","rotate(-0)").attr("dx","0em").attr("y",-20).attr("dy","0.7em").attr("text-anchor","start").attr("fill","#000").attr("style","font-size:"+i+"px").text(e):this.nodes.title_g.attr("transform","rotate(-0)").attr("y",-5).attr("dy","0.71em").attr("text-anchor","middle").attr("fill","#000").attr("style","font-size:"+i+"px").text(e))},setCommonChartAxisYNode:function(){var t=this.props.fontSizeY;"number"!=typeof t&&(t=11),this.state.update?this.nodes.axisY_g.call(u.d3.axisLeft(this.d3.y).ticks(this.axis.tickAxisY)):this.nodes.axisY_g.call(u.d3.axisLeft(this.d3.y).ticks(this.axis.tickAxisY)).attr("style","font-size:"+t+"px")},setCommonChartAxisXNode:function(){var t=10,e=20,i=0,s=this.props.fontSizeX,n=this.nodes.axisX_g.attr("transform","translate(0,"+this.d3.height+")").selectAll("text").style("text-anchor","middle");"number"!=typeof this.axis.posXAxisX||void 0===this.axis.posXAxisX&&null===this.axis.posXAxisX||(t=this.axis.posXAxisX,n.attr("dx",t+"px")),"number"!=typeof this.axis.posYAxisX||void 0===this.axis.posYAxisX&&null===this.axis.posYAxisX||(e=this.axis.posYAxisX,n.attr("dy",e+"px")),"number"!=typeof this.axis.rotateAxisX||void 0===this.axis.rotateAxisX&&null===this.axis.rotateAxisX||(i=this.axis.rotateAxisX,n.attr("transform","rotate(-"+i+")")),"number"!=typeof s&&(s=11),this.nodes.axisX_g.attr("style","font-size:"+s+"px")},setCommonChartAxisXYGrid:function(){this.props.gridLine&&(this.state.update||this.nodes.gridX_g.call(u.d3.axisBottom(this.d3.x).tickSize(-this.d3.height,0,0).tickFormat("")),this.nodes.gridY_g.call(u.d3.axisLeft(this.d3.y).ticks(this.axis.tickGridY).tickSize(-this.d3.width,0,0).tickFormat("")))},setCommonCompareInfo:function(t,e,i){if(!this.props.groupInfoBox)return!1;var s=t.g.append("g").attr("font-family","sans-serif").attr("text-anchor","end").selectAll("g").data(e).enter().append("g").attr("transform",function(t,e){return"translate(0,"+(20*e-30)+")"});try{s.append("rect").attr("x",t.width-0).attr("width",19).attr("height",19).attr("fill",function(t){return i(t)}),s.append("text").attr("style","font-size:12px").attr("x",t.width-5).attr("y",9.5).attr("dy","0.32em").text(function(t){return t}),s.exit().remove()}finally{e=t=null}},js2uixSingleAreaType:function(t){var e="axisX",i="axisY",s=t.map(function(t){return{axisX:t[this.axis.axisX],axisY:t[this.axis.axisY]}}.bind(this)),n=u.d3.extent(s.map(function(t){return t[e]}),function(t){return new Date(t)}),a=u.d3.extent(s.map(function(t){return t[i]}),function(t){return parseInt(t)});try{if(this.state.d3_area||(this.state.d3_area=d3.area()),this.props.lineCurve&&this.state.d3_area.curve(u.d3.curveBasis),"date"===this.axis.typeAxisX?(this.d3.x=u.d3.scaleTime().domain([new Date(n[0]),new Date(n[1])]).rangeRound([0,this.d3.width]),this.state.d3_area.x(function(t){return this.d3.x(new Date(t[e]))}.bind(this))):(this.d3.x=u.d3.scaleBand().domain(s.map(function(t){return t[e]})).rangeRound([0,this.d3.width]),this.state.d3_area.x(function(t){return this.d3.x(t[e])+.5*this.d3.x.bandwidth()}.bind(this))),this.d3.y=u.d3.scaleLinear().domain([0,a[1]]).rangeRound([this.d3.height,0]),this.state.d3_area.y(function(t){return this.d3.y(t[i])}.bind(this)),this.state.d3_area.y1(function(t){return this.d3.y(t[i])}.bind(this)),this.state.d3_area.y0(this.d3.y(0)),!this.state.update){var r=u.d3.scaleOrdinal().range(this.state.colorArray),o=u.d3.timeFormat(this.axis.timeFormat);this.nodes.gridX_g=this.d3.g.append("g").attr("class","grid_x").attr("transform","translate(0,"+this.d3.height+")").attr("opacity",this.props.tickGridOpacity),this.nodes.gridY_g=this.d3.g.append("g").attr("class","grid_y").attr("opacity",this.props.tickGridOpacity),this.nodes.pathArea=this.d3.g.append("path").attr("class","area").style("fill",r).attr("fill-opacity",this.props.colorAlpha),this.nodes.axisX_g=this.d3.g.append("g").attr("class","axis axis--x"),this.nodes.axisY_g=this.d3.g.append("g").attr("class","axis axis--y"),this.nodes.title_g=this.d3.g.append("g").attr("class","title").append("text"),"date"===this.axis.typeAxisX?this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x).ticks(u.d3[this.axis.timeAxisX[0]].every(this.axis.timeAxisX[1])).tickFormat(function(t){return o(t)})):this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x)),this.setCommonChartInfoString("basic"),this.setCommonChartAxisXNode()}this.nodes.pathArea.datum(s).transition().duration(this.props.duration).attr("d",this.state.d3_area),this.nodes.pathArea.exit().remove(),this.setCommonChartAxisYNode(),this.setCommonChartAxisXYGrid()}finally{s=t=null}},js2uixCompareAreaType:function(t){var i=this,e="axisX",s="axisY",n=0,a=[],r=t[Object.keys(t)[0]].map(function(t){return t[this.axis.axisX]}.bind(this)),o=u.d3.extent(r,function(t){return new Date(t)}),d=t;try{if(this.state.d3_area||(this.state.d3_area=u.d3.area()),this.state.d3_line||(this.state.d3_line=u.d3.line()),this.props.lineCurve&&(this.state.d3_area.curve(u.d3.curveBasis),this.state.d3_line.curve(u.d3.curveBasis)),Array.isArray(t)||(d=[],p.loop(t,function(t,e){var i=this;d.push(e.map(function(t){return{axisX:t[i.axis.axisX],axisY:t[i.axis.axisY]}}))}.bind(this))),p.loop(t,function(t,e){var i=this,s=u.d3.max(e,function(t){return t[i.axis.axisY]});n<s&&(n=s+.2*s),a.push(t)}.bind(this)),"date"===this.axis.typeAxisX?(this.d3.x=u.d3.scaleTime().domain([new Date(o[0]),new Date(o[1])]).rangeRound([0,this.d3.width]),this.state.d3_area.x(function(t){return this.d3.x(new Date(t[e]))}.bind(this)),this.state.d3_line.x(function(t){return this.d3.x(new Date(t[e]))}.bind(this))):(this.d3.x=u.d3.scaleBand().domain(r).rangeRound([0,this.d3.width]),this.state.d3_area.x(function(t){return this.d3.x(t[e])+.5*this.d3.x.bandwidth()}.bind(this)),this.state.d3_line.x(function(t){return this.d3.x(t[e])+.5*this.d3.x.bandwidth()}.bind(this))),this.state.d3_area.y(function(t){return this.d3.y(t[s])}.bind(this)),this.state.d3_line.y(function(t){return this.d3.y(t[s])}.bind(this)),this.d3.y=u.d3.scaleLinear().domain([0,n]).rangeRound([this.d3.height,0]),this.state.d3_area.y1(function(t){return this.d3.y(t[s])}.bind(this)),this.state.d3_area.y0(this.d3.y(0)),this.state.update)this.nodes.pathNode=this.nodes.pathNode.data(d),this.nodes.lineNode=this.nodes.lineNode.data(d);else{var h=u.d3.scaleOrdinal().range(this.state.colorArray),l=u.d3.timeFormat(this.axis.timeFormat);this.nodes.gridX_g=this.d3.g.append("g").attr("class","grid_x").attr("transform","translate(0,"+this.d3.height+")").attr("opacity",this.props.tickGridOpacity),this.nodes.gridY_g=this.d3.g.append("g").attr("class","grid_y").attr("opacity",this.props.tickGridOpacity),this.d3.g.append("g").attr("class","pathBox").selectAll("path").data(d,function(t,e){u.d3.select(this).append("path").attr("class","area").attr("fill-opacity",i.props.colorAlpha).attr("fill",function(){return h(a[e])}),u.d3.select(this).append("path").attr("class","line").attr("stroke-width","1.5").attr("fill","none").attr("stroke",function(){return h(a[e])})}),this.nodes.axisX_g=this.d3.g.append("g").attr("class","axis axis--x"),this.nodes.axisY_g=this.d3.g.append("g").attr("class","axis axis--y"),this.nodes.title_g=this.d3.g.append("g").attr("class","title").append("text"),this.nodes.pathNode=this.d3.g.select("g.pathBox").selectAll("path.area").data(d),this.nodes.lineNode=this.d3.g.select("g.pathBox").selectAll("path.line").data(d),"date"===this.axis.typeAxisX?this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x).ticks(u.d3[this.axis.timeAxisX[0]].every(this.axis.timeAxisX[1])).tickFormat(function(t){return l(t)})):this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x)),this.setCommonCompareInfo(this.d3,a,h),this.setCommonChartInfoString("basic"),this.setCommonChartAxisXNode()}this.nodes.pathNode.transition().duration(this.props.duration).attr("d",this.state.d3_area),this.nodes.lineNode.transition().duration(this.props.duration).attr("d",this.state.d3_line),this.nodes.pathNode.exit().remove(),this.nodes.lineNode.exit().remove(),this.setCommonChartAxisYNode(),this.setCommonChartAxisXYGrid()}finally{d=t=null}},js2uixSingleLineType:function(t){var e="axisX",i=t.map(function(t){return{axisX:t[this.axis.axisX],axisY:t[this.axis.axisY]}}.bind(this)),s=u.d3.extent(i.map(function(t){return t[e]}),function(t){return new Date(t)}),n=u.d3.extent(i.map(function(t){return t.axisY}),function(t){return parseInt(t)});try{if(this.state.d3_line||(this.state.d3_line=u.d3.line()),this.props.lineCurve&&this.state.d3_line.curve(u.d3.curveBasis),"date"===this.axis.typeAxisX?(this.d3.x=u.d3.scaleTime().domain([new Date(s[0]),new Date(s[1])]).rangeRound([0,this.d3.width]),this.state.d3_line.x(function(t){return this.d3.x(new Date(t[e]))}.bind(this))):(this.d3.x=u.d3.scaleBand().domain(i.map(function(t){return t[e]})).rangeRound([0,this.d3.width]),this.state.d3_line.x(function(t){return this.d3.x(t[e])+.5*this.d3.x.bandwidth()}.bind(this))),this.d3.y=u.d3.scaleLinear().domain([0,n[1]]).rangeRound([this.d3.height,0]),this.state.d3_line.y(function(t){return this.d3.y(t.axisY)}.bind(this)),!this.state.update){var a=u.d3.scaleOrdinal().range(this.state.colorArray),r=u.d3.timeFormat(this.axis.timeFormat);this.nodes.gridX_g=this.d3.g.append("g").attr("class","grid_x").attr("transform","translate(0,"+this.d3.height+")").attr("opacity",this.props.tickGridOpacity),this.nodes.gridY_g=this.d3.g.append("g").attr("class","grid_y").attr("opacity",this.props.tickGridOpacity),this.nodes.axisX_g=this.d3.g.append("g").attr("class","axis axis--x"),this.nodes.axisY_g=this.d3.g.append("g").attr("class","axis axis--y"),this.nodes.title_g=this.d3.g.append("g").attr("class","title").append("text"),this.nodes.pathArea=this.d3.g.append("path").attr("class","line").attr("stroke",a).attr("stroke-width","1.5").attr("fill","none"),"date"===this.axis.typeAxisX?this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x).ticks(u.d3[this.axis.timeAxisX[0]].every(this.axis.timeAxisX[1])).tickFormat(function(t){return r(t)})):this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x)),this.setCommonChartInfoString("basic"),this.setCommonChartAxisXNode()}this.nodes.pathArea.datum(i).transition().duration(this.props.duration).attr("d",this.state.d3_line),this.nodes.pathArea.exit().remove(),this.setCommonChartAxisYNode(),this.setCommonChartAxisXYGrid()}finally{i=t=null}},js2uixCompareLineType:function(t){var e,n=0,i=t[Object.keys(t)[0]].map(function(t){return t[this.axis.axisX]}.bind(this)),s=u.d3.extent(i,function(t){return new Date(t)}),a=[],r=t;try{if(this.state.d3_line||(this.state.d3_line=u.d3.line()),this.props.lineCurve&&this.state.d3_line.curve(u.d3.curveBasis),Array.isArray(t)||(r=[],p.loop(t,function(t,e){var i=this;r.push(e.map(function(t){return{axisX:t[i.axis.axisX],axisY:t[i.axis.axisY]}}))}.bind(this))),p.loop(t,function(t,e){var i=this,s=u.d3.max(e,function(t){return t[i.axis.axisY]});n<s&&(n=s+.2*s),a.push(t)}.bind(this)),"date"===this.axis.typeAxisX?(this.d3.x=u.d3.scaleTime().domain([new Date(s[0]),new Date(s[1])]).rangeRound([0,this.d3.width]),this.state.d3_line.x(function(t){return this.d3.x(new Date(t.axisX))}.bind(this))):(this.d3.x=u.d3.scaleBand().domain(i).rangeRound([0,this.d3.width]),this.state.d3_line.x(function(t){return this.d3.x(t.axisX)+.5*this.d3.x.bandwidth()}.bind(this))),this.d3.y=u.d3.scaleLinear().domain([0,n]).rangeRound([this.d3.height,0]),this.state.d3_line.y(function(t){return this.d3.y(t.axisY)}.bind(this)),this.state.update)e=this.nodes.pathNode.data(r);else{var o=u.d3.timeFormat(this.axis.timeFormat),d=u.d3.scaleOrdinal().range(this.state.colorArray);this.nodes.gridX_g=this.d3.g.append("g").attr("class","grid_x").attr("transform","translate(0,"+this.d3.height+")").attr("opacity",this.props.tickGridOpacity),this.nodes.gridY_g=this.d3.g.append("g").attr("class","grid_y").attr("opacity",this.props.tickGridOpacity),this.nodes.axisX_g=this.d3.g.append("g").attr("class","axis axis--x"),this.nodes.axisY_g=this.d3.g.append("g").attr("class","axis axis--y"),this.nodes.title_g=this.d3.g.append("g").attr("class","title").append("text"),(e=this.d3.g.append("g").attr("class","pathBox").selectAll("path").data(r).enter().append("path")).attr("class","line").attr("stroke",function(t,e){return d(a[e])}).attr("stroke-width","1.5").attr("fill","none"),this.nodes.pathNode=this.d3.g.select("g.pathBox").selectAll("path.line"),"date"===this.axis.typeAxisX?this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x).ticks(u.d3[this.axis.timeAxisX[0]].every(this.axis.timeAxisX[1])).tickFormat(function(t){return o(t)})):this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x)),this.setCommonCompareInfo(this.d3,a,d),this.setCommonChartInfoString("basic"),this.setCommonChartAxisXNode()}e.transition().duration(this.props.duration).attr("d",this.state.d3_line),e.exit().remove(),this.setCommonChartAxisYNode(),this.setCommonChartAxisXYGrid()}finally{a=e=r=t=null}},js2uixSingleBarType:function(t){var e,i=this,s="axisX",n="axisY",a=t.map(function(t){return{axisX:t[this.axis.axisX],axisY:t[this.axis.axisY]}}.bind(this)),r=a.map(function(t){return t[n]}),o=u.d3.extent(r,function(t){return parseInt(t)});try{if(this.d3.x=u.d3.scaleBand().padding(.1).domain(a.map(function(t){return t[s]})).rangeRound([0,this.d3.width]),this.d3.y=u.d3.scaleLinear().domain([0,o[1]]).rangeRound([this.d3.height,0]),this.state.update)e=this.nodes.rectNode.data(a,function(t){return t[s]});else{var d=u.d3.scaleOrdinal().range(this.state.colorArray),h=u.d3.timeFormat(this.axis.timeFormat);this.nodes.gridX_g=this.d3.g.append("g").attr("class","grid_x").attr("transform","translate(0,"+this.d3.height+")").attr("opacity",this.props.tickGridOpacity),this.nodes.gridY_g=this.d3.g.append("g").attr("class","grid_y").attr("opacity",this.props.tickGridOpacity),this.nodes.axisX_g=this.d3.g.append("g").attr("class","axis axis--x"),this.nodes.axisY_g=this.d3.g.append("g").attr("class","axis axis--y"),this.nodes.title_g=this.d3.g.append("g").attr("class","title").append("text"),this.nodes.pathArea=this.d3.g.append("g").attr("class","graphBox"),e=this.nodes.pathArea.selectAll("g").data(a,function(t){return t[s]}).enter().append("rect").attr("class","ui-chart-bar").attr("width",this.d3.x.bandwidth()).attr("x",function(t){return this.d3.x(t[s])}.bind(this)).attr("fill",function(t){return d(t[s])}).attr("fill-opacity",this.props.colorAlpha).attr("data-name",function(t){return t[s]}).attr("data-value",function(t){return t[n]}),this.nodes.rectNode=this.d3.g.select("g.graphBox").selectAll("rect.ui-chart-bar"),"date"===this.axis.typeAxisX?this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x).tickFormat(function(t){return h(new Date(t))})):this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x)),this.setCommonChartInfoString("basic"),this.setCommonChartAxisXNode()}e.attr("height",function(){return i.state.update?u.d3.select(this).attr("height"):i.d3.height-i.d3.y(0)}).attr("y",function(){return i.state.update?u.d3.select(this).attr("y"):i.d3.y(0)}).transition().duration(this.props.duration).ease(u.d3.easeLinear).attr("y",function(t){return i.d3.y(t[n])}).attr("height",function(t){return i.d3.height-i.d3.y(t[n])}),e.exit().remove(),this.setCommonChartAxisYNode(),this.setCommonChartAxisXYGrid()}finally{e=t=null}},js2uixCompareBarType:function(e){var t,i=this,s=e[Object.keys(e)[0]].map(function(t){return t[this.axis.axisX]}.bind(this)),n=0,a=0,r=[],o=[],d=function(i){var s=this,t=u.d3.values(e).map(function(t){var e=t.map(function(t){if(t[s.axis.axisX]==i)return t[s.axis.axisY]});return u.d3.max(e,function(t){return t})});return o.push(t),t}.bind(this);try{if(p.loop(e,function(t,e){var i=this,s=u.d3.max(e,function(t){return t[i.axis.axisY]});n<s&&(n=s),r.push(t)}.bind(this)),this.d3.x=u.d3.scaleBand().domain(s).rangeRound([0,this.d3.width]).padding(.1),this.d3.x1=u.d3.scaleBand().padding(.05).domain(u.d3.entries(e).map(function(t){return t.key})).rangeRound([0,this.d3.x.bandwidth()]),this.d3.y=u.d3.scaleLinear().domain([0,n]).rangeRound([this.d3.height,0]),this.state.update)t=this.nodes.rectNode.data(s,d).selectAll("rect.ui-chart-bar").data(u.d3.keys(e));else{var h=u.d3.scaleOrdinal().range(this.state.colorArray),l=u.d3.timeFormat(this.axis.timeFormat);this.nodes.gridX_g=this.d3.g.append("g").attr("class","grid_x").attr("transform","translate(0,"+this.d3.height+")").attr("opacity",this.props.tickGridOpacity),this.nodes.gridY_g=this.d3.g.append("g").attr("class","grid_y").attr("opacity",this.props.tickGridOpacity),this.nodes.axisX_g=this.d3.g.append("g").attr("class","axis axis--x"),this.nodes.axisY_g=this.d3.g.append("g").attr("class","axis axis--y"),this.nodes.title_g=this.d3.g.append("g").attr("class","title").append("text"),t=this.d3.g.append("g").attr("class","path").selectAll("g").data(s,d).enter().append("g").attr("class","ui-chart-group").attr("width",this.d3.x.bandwidth()).attr("transform",function(t){return"translate("+i.d3.x(t)+",0)"}).attr("data-left",function(t){return i.d3.x(t)}).selectAll("rect").data(u.d3.keys(e)).enter().append("rect").attr("class","ui-chart-bar").attr("width",function(){return i.d3.x1.bandwidth()}).attr("x",function(t){return i.d3.x1(t)}).attr("fill",function(t){return h(t)}).attr("fill-opacity",this.props.colorAlpha),this.setCommonCompareInfo(this.d3,r,h),this.nodes.rectNode=this.d3.g.select("g.path").selectAll("g"),"date"===this.axis.typeAxisX?this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x).ticks(u.d3[this.axis.timeAxisX[0]].every(this.axis.timeAxisX[1])).tickFormat(function(t){return l(t)})):this.nodes.axisX_g.call(u.d3.axisBottom(this.d3.x)),this.setCommonChartInfoString("basic"),this.setCommonChartAxisXNode()}t.attr("data-height",function(t,e){return 0===e&&a++,i.d3.height-i.d3.y(o[a-1][e])}).attr("data-name",function(t){return a=0,t}).attr("data-value",function(t,e){return 0===e&&a++,o[a-1][e]}).attr("y",function(){return i.state.update?u.d3.select(this).attr("y"):i.d3.y(0)}).attr("height",function(){return i.state.update?u.d3.select(this).attr("height"):i.d3.height-i.d3.y(0)}),a=0,t.transition().duration(this.props.duration).ease(u.d3.easeLinear).attr("y",function(){return i.d3.height-u.d3.select(this).attr("data-height")}).attr("height",function(t,e){return 0===e&&a++,i.d3.height-i.d3.y(o[a-1][e])}),t.exit().remove(),this.setCommonChartAxisYNode(),this.setCommonChartAxisXYGrid()}finally{t=o=r=e=null}},js2uixCircleType:function(t){var e,i,s,n,a=this;try{if(this.state.update)e=this.nodes.slice.data(this.state.pie(t),this.state.axisXFnc),i=this.nodes.circleText.data(this.state.pie(t),this.state.axisXFnc),s=this.nodes.polyLine.data(this.state.pie(t),this.state.axisXFnc);else{var r=u.d3.scaleOrdinal().range(this.state.colorArray),o=this.target[0].clientWidth,d=this.target[0].clientHeight;this.d3.width=o,this.d3.height=d,this.state.radius=Math.min(o,d)/2-30,this.state.arc1=u.d3.arc().outerRadius(.9*this.state.radius).innerRadius(this.state.radius*(1-this.props.circleThickNum)),this.state.outerArc=u.d3.arc().innerRadius(this.state.radius).outerRadius(.9*this.state.radius),this.state.pie=u.d3.pie().sort(null).value(function(t){return t[a.axis.axisY]}),this.state.axisXFnc=function(t){return t.data[a.axis.axisX]},this.state.midAngle=function(t){return t.startAngle+(t.endAngle-t.startAngle)/2},this.d3.g=this.d3.g.attr("transform","translate("+o/2+","+d/2+")"),this.d3.g.append("g").attr("class","labels"),this.d3.g.append("g").attr("class","lines"),this.nodes.title_g=this.d3.g.append("g").attr("class","titleBox").append("text"),e=this.d3.g.append("g").attr("class","slices ui-"+this.state.uniqueId).selectAll("path.slice").data(this.state.pie(t),this.state.axisXFnc).enter().insert("path").style("fill",function(t){return r(t.data[a.axis.axisX])}).attr("class","slice").attr("fill-opacity",this.props.colorAlpha),i=this.d3.g.select(".labels").selectAll("text").data(this.state.pie(t),this.state.axisXFnc).enter().append("text").attr("style","font-size:12px").attr("dy",".35em").attr("opacity",1),s=this.d3.g.select(".lines").selectAll("polyline").data(this.state.pie(t),this.state.axisXFnc).enter().append("polyline").attr("opacity",.3).attr("stroke","black").attr("stroke-width","1px").attr("fill","none").attr("stroke-opacity",1),this.props.groupInfoBox&&((n=this.d3.g.append("g").attr("class","infoBox").attr("text-anchor","end").selectAll("g").data(t.map(function(t){return d3.values(t)[0]})).enter().append("g").attr("transform",function(t,e){return"translate(0,"+20*e+")"})).append("rect").attr("x",.5*-this.d3.width+10).attr("y",.5*-this.d3.height+10).attr("width",19).attr("height",19).attr("fill",r),n.append("text").attr("style","font-size:12px").attr("text-anchor","start").attr("x",.5*-this.d3.width+35).attr("y",.5*-this.d3.height+20).attr("dy","0.32em").text(function(t){return t}),n.exit().remove()),this.nodes.slice=this.d3.g.selectAll("path.slice"),this.nodes.circleText=this.d3.g.select(".labels").selectAll("text"),this.nodes.polyLine=this.d3.g.select(".lines").selectAll("polyline"),this.setCommonChartInfoString("circle")}e.transition().duration(this.props.duration).attrTween("d",function(t){this._current=this._current||t;var e=u.d3.interpolate(this._current,t);return a.state.update||(e=u.d3.interpolate({startAngle:0,endAngle:0},this._current)),this._current=e(0),function(t){return a.state.arc1(e(t))}}),e.exit().remove(),i.text(function(t){return t.data[a.axis.axisY]}).transition().duration(this.props.duration).attrTween("transform",function(t){this._current=this._current||t;var s=u.d3.interpolate(this._current,t);return this._current=s(0),function(t){var e=s(t),i=a.state.outerArc.centroid(e);return i[0]=a.state.radius*(a.state.midAngle(e)<Math.PI?1:-1),"translate("+i+")"}}).styleTween("text-anchor",function(t){this._current=this._current||t;var e=u.d3.interpolate(this._current,t);return this._current=e(0),function(t){return a.state.midAngle(e(t))<Math.PI?"start":"end"}}),i.exit().remove(),s.transition().duration(this.props.duration).attrTween("points",function(t){this._current=this._current||t;var s=u.d3.interpolate(this._current,t);return this._current=s(0),function(t){var e=s(t),i=a.state.outerArc.centroid(e);return i[0]=.95*a.state.radius*(a.state.midAngle(e)<Math.PI?1:-1),[a.state.arc1.centroid(e),a.state.outerArc.centroid(e),i]}}),s.exit().remove()}finally{n=s=i=e=t=null}},setSwitchChartDomType:function(t){switch(this.props.chartType){case"line-s":this.js2uixSingleLineType(t);break;case"line-c":this.js2uixCompareLineType(t);break;case"area-s":this.js2uixSingleAreaType(t);break;case"area-c":this.js2uixCompareAreaType(t);break;case"bar-s":this.js2uixSingleBarType(t);break;case"bar-c":this.js2uixCompareBarType(t);break;case"circle":this.js2uixCircleType(t);break;default:alert("Chart type is incorrect.")}},setCreateChartOption:function(){try{if(this.props.colorful||(this.state.colorArray=[this.state.colorArray[0]]),this.props.colorArray&&(this.state.colorArray=this.props.colorArray),this.props.shadeColor&&this.setUserShadeColorSetting(this.props.shadeColor),"string"!=typeof this.props.timeAxisX[0]||"number"!=typeof this.props.timeAxisX[1])return alert("The value of the timeAxisX is not correct."),!1;"number"==typeof this.props.circleThickNum?1<this.props.circleThickNum?this.props.circleThickNum=1:this.props.circleThickNum<=0&&(this.props.circleThickNum=.15):this.props.circleThickNum=.5,this.props.timeAxisX=this.props.timeAxisX.map(function(t){var e="";switch(t){case"day":e="timeDay";break;case"week":e="timeWeek";break;case"month":e="timeMonth";break;case"year":e="timeYear";break;default:e=t}return e})}finally{null}},setCreateChartD3Target:function(t){var e=this.state,i=this.props,s=t[0].id,n=t.parent().offset(),a=n.width-(n.paddingL+n.paddingR),r=n.height-(n.paddingT+n.paddingB),o=this.axis={axisX:i.nameAxisX,axisY:i.nameAxisY,typeAxisX:i.typeAxisX,typeAxisY:i.typeAxisY,timeAxisX:i.timeAxisX,timeFormat:i.timeFormat,tickAxisY:i.tickAxisY,tickGridY:i.tickGridY,rotateAxisX:i.rotateAxisX,posXAxisX:i.posXAxisX,posYAxisX:i.posYAxisX,axis_string:i.title},d={width:i.layoutW,height:i.layoutH};try{d.width&&(a=parseInt(d.width),t.width(a)),d.height&&(r=parseInt(d.height),t.height(r)),a>e.max_width&&(a=e.max_width),a<e.min_width&&(a=e.min_width),r<e.min_height&&(r=e.min_height),this.d3.svg||(this.d3={svg:null,g:null,x:null,y:null,width:0,height:0,margin:{},line:null,tip:null,type:this.props.chartType,axisX:"",axisY:"",title:""},this.d3.svg=u.d3.select("#"+s).append("svg:svg").attr("id",this.state.uniqueName).attr("width",a).attr("height",r),this.d3.margin={top:40,right:30,bottom:30,left:30},this.d3.width=a-this.d3.margin.left-this.d3.margin.right,this.d3.height=r-this.d3.margin.top-this.d3.margin.bottom,this.d3.g=this.d3.svg.append("g").attr("class","js2uix_g").attr("transform","translate("+this.d3.margin.left+","+this.d3.margin.top+")"),this.d3.axisX=o.axisX,this.d3.axisY=o.axisY,this.d3.title=o.axis_string)}finally{o=null}},setCreateStyleOption:function(t){var e,i;e=t,i={svgId:"#"+this.state.uniqueName,opacity:this.props.tickGridOpacity,dashArray:this.props.tickGridDashNum},e.append('<style class="js2uixD3">\n'+i.svgId+" .js2uix_g .grid_x,\n"+i.svgId+" .js2uix_g .grid_y{opacity : "+i.opacity+"}\n"+i.svgId+" .js2uix_g .grid_x path,\n"+i.svgId+" .js2uix_g .grid_y path{stroke-width:0}\n"+i.svgId+" .js2uix_g .grid_x .tick line,\n"+i.svgId+" .js2uix_g .grid_y .tick line{stroke-dasharray:"+i.dashArray+"}\n</style>")},render:function(t){this.renderChartDefaultSetting(t),this.setCreateStyleOption(t),this.setCreateChartOption(t),this.setCreateChartD3Target(t)},init:function(t){"object"==typeof t&&(p.extend(this.props,t),this.render(this.target))},setData:function(t){this.setSwitchChartDomType(t),this.state.update||(this.state.update=!0,this.state.dataLength=t.length)}}).constructor=x;var y=function(t){return this.element=t,this.idName="",this.props={fieldTitle:null,fieldName:null,gridFixWidth:null,gridFixHeight:null,gridMinWidth:null,gridMaxWidth:null,listCountNum:[10,20,30],fieldWidth:null,appendLayoutStyle:!0,availableMini:!1,bodyTextAlign:"center",disableSelection:!1,optionCheckBox:!1,optionNumbering:!1,onChangeStateEvent:null,onCustomizedField:null,onCustomizedEvent:null},this.state={totalCountNum:0,totalPageNum:1,currentPageNum:1,listCountNum:10,displayItemNum:0,orderInfo:{},gridWidth:0,gridAdjustGap:0,gridCalcWidth:0,girdCalcUlWidth:0,contentHead:null,contentBody:null,contentBodyList:null,contentFoot:null,listSelect:null,totalItem:null,displayItem:null,totalPage:null,currentPage:null,loadBox:null,optionCheckbox:null,isControl:!0},this.gridData=null,{init:this.init.bind(this),setData:this.setData.bind(this)}};return(y.prototype={js2uixGridName:"js2uix-grid",setLoadEffectStyle:function(t){t?(this.state.isControl=!1,this.state.loadBox[0].style.display="block",this.state.loadBox[0].style.opacity=1):this.state.loadBox.fadeOut(450,function(){this.state.isControl=!0}.bind(this))},setDefaultRender:function(){if(1===this.element.length)return this.element.addClass(this.js2uixGridName),this.props.disableSelection&&this.element.addClass("disableSelection"),this.props.gridFixWidth&&"number"==typeof this.props.gridFixWidth&&this.element.css("width",this.props.gridFixWidth),this.props.gridMinWidth&&"number"==typeof this.props.gridMinWidth&&this.element.css("min-width",this.props.gridMinWidth),this.props.gridMaxWidth&&"number"==typeof this.props.gridMaxWidth&&this.element.css("max-width",this.props.gridMaxWidth),this.props.gridFixHeight&&"number"==typeof this.props.gridFixHeight&&this.element.css("height",this.props.gridFixHeight),this.props.availableMini&&this.element.addClass("availableMini"),!0},setAppendElement:function(t){this.element.append(t)},setCreateCssStyle:function(){if(this.props.appendLayoutStyle&&this.props.fieldWidth&&Array.isArray(this.props.fieldWidth)){for(var t=p("style[data-target="+this.idName+"]"),e='<style data-target="'+this.idName+'">\n',i=0;i<this.props.fieldWidth.length;i++){var s=i+1,n=this.props.fieldWidth[i];"string"==typeof n&&"auto"===n?(n=this.state.girdCalcUlWidth-this.state.gridCalcWidth+"px",n="calc(100% - "+this.state.gridCalcWidth+"px)"):n+="px",e+="#"+this.idName+".js2uix-grid ul.js2uix-head-row li:nth-child("+s+"),\n",e+="#"+this.idName+".js2uix-grid ul.js2uix-body-row li:nth-child("+s+"){width:"+n+"}\n"}e+="</style>",0<t.length&&t.remove(),this.element.before(e)}},setGridFieldStyle:function(t){if(!this.props.appendLayoutStyle&&this.props.fieldWidth&&Array.isArray(this.props.fieldWidth)){var s=this,e=this.state.contentHead;"body"===t&&(e=this.state.contentBody),e=e.find("ul"),this.state.girdCalcUlWidth||(this.state.girdCalcUlWidth=e.width()),p.loop(e,function(){for(var t=this.children,e=0;e<t.length;e++){var i=s.props.fieldWidth[e];"string"==typeof i&&"auto"===i?i=s.state.girdCalcUlWidth-s.state.gridCalcWidth+"px":i+="px",t[e].style.width=i}})}},setAdjustStyleLayout:function(){this.state.gridAdjustGap=this.state.contentBody.width()-this.state.contentBodyList.width(),this.state.contentHead[0].children[0].style.paddingRight=this.state.gridAdjustGap+"px",this.state.contentBodyList&&(this.state.contentBodyList.addAttr("data-overflow","false"),0<=this.state.contentBodyList.height()-this.state.contentBody.height()&&this.state.contentBodyList.addAttr("data-overflow","true"))},setDefaultOptionState:function(){this.state.optionCheckbox&&(this.state.optionCheckbox[0].firstChild.checked=!1)},setGridDefaultState:function(){var t=0;if(this.idName=this.element[0].id?this.element[0].id:this.idName=f+"Grid"+i(),this.props.fieldWidth){this.props.optionCheckBox&&this.props.fieldWidth.unshift(35),this.props.optionNumbering&&this.props.fieldWidth.unshift(40);for(var e=0;e<this.props.fieldWidth.length;e++)"number"==typeof this.props.fieldWidth[e]&&(t+=this.props.fieldWidth[e]);this.state.gridCalcWidth=t,this.state.gridWidth=this.state.contentHead.width()}},setGridRenderState:function(t){this.state.totalCountNum=parseInt(t.totalCount),this.state.currentPageNum=parseInt(t.pageCount),this.state.listCountNum=parseInt(t.listCount||this.state.listCountNum),this.state.displayItemNum=0===this.state.currentPageNum?parseInt(t.data.length):(this.state.currentPageNum-1)*this.state.listCountNum+parseInt(t.data.length),this.state.totalPageNum=parseInt(this.state.totalCountNum/this.state.listCountNum),this.state.totalPageNum<1&&(this.state.totalPageNum=1),this.state.totalPageNum<this.state.totalCountNum/this.state.listCountNum&&(this.state.totalPageNum=this.state.totalPageNum+1),this.state.listSelect[0].value!==this.state.listCountNum&&(this.state.listSelect[0].value=this.state.listCountNum),this.gridData=t.data},setGridFootState:function(t){this.state.totalItem[0].innerText=this.state.totalCountNum,this.state.displayItem[0].innerText=this.state.displayItemNum,this.state.totalPage[0].innerText=this.state.totalPageNum,this.state.currentPage[0].value=this.state.currentPageNum,console.log(t)},setGridHeadElement:function(){if(this.props.fieldTitle&&this.props.fieldName){for(var t=p.createDom("ul",{className:"js2uix-grid-head-wrap js2uix-head-row"},!0),e=0;e<this.props.fieldTitle.length;e++)t.append('<li class="field" data-order="NORMAL" data-name="'+this.props.fieldName[e]+'">'+this.props.fieldTitle[e]+"</li>");this.props.optionCheckBox&&(this.state.optionCheckbox=p.createDom("li",{content:'<input type="checkbox" name="optionCheckBox" />'},!0),this.state.optionCheckbox.addAttr("data-option","checkbox"),t.prepend(this.state.optionCheckbox)),this.props.optionNumbering&&t.prepend('<li data-option="numbering">&nbsp;</li>'),this.state.contentHead=p.createDom("div",{className:"js2uix-grid-head",content:t},!0),this.setAppendElement(this.state.contentHead),this.setGridHeadControl(this.state.contentHead)}},setGridBodyElement:function(){this.state.contentBodyList=p.createDom("div",{className:"js2uix-grid-body-list"},!0),this.state.contentBody=p.createDom("div",{className:"js2uix-grid-body",content:p.createDom("div",{className:"js2uix-grid-body-wrap",content:this.state.contentBodyList})},!0),this.setAppendElement(this.state.contentBody)},setGridFootElement:function(){this.state.contentFoot=p.createDom("div",{className:"js2uix-grid-foot"},!0);var t=p.createDom("div",{className:"js2uix-grid-list",content:'<select class="list"></select>'},!0),e=p.createDom("div",{className:"js2uix-grid-total",content:'<ul><li>Displaying&nbsp;</li><li class="current">1</li><li>&nbsp;of&nbsp;</li><li class="total">1</li><li>&nbsp;items</li></ul>'}),i=p.createDom("div",{className:"js2uix-grid-page",content:'<ul><li class="first"></li><li class="prev"></li><li class="page"><span>Page</span><span class="current"><input type="text" name="crtPage" class="crtPage"></span><span>of</span><span class="total">1</span></li><li class="next"></li><li class="last"></li><li class="reload"></li></ul>'});if(Array.isArray(this.props.listCountNum)&&0<this.props.listCountNum.length)for(var s=0;s<this.props.listCountNum.length;s++){var n="";0===s&&(this.state.listCountNum=this.props.listCountNum[s],n="selected"),t.find("select").append("<option "+n+' value="'+this.props.listCountNum[s]+'">'+this.props.listCountNum[s]+"</option>")}this.state.contentFoot.append(t,i,e),this.state.listSelect=this.state.contentFoot.find("select"),this.state.totalItem=this.state.contentFoot.find(".js2uix-grid-total .total"),this.state.displayItem=this.state.contentFoot.find(".js2uix-grid-total .current"),this.state.totalPage=this.state.contentFoot.find(".js2uix-grid-page .total"),this.state.currentPage=this.state.contentFoot.find(".js2uix-grid-page .current input"),this.setAppendElement(this.state.contentFoot),this.setGridFootControl(this.state.contentFoot)},setGridLoadElement:function(){this.state.loadBox=p.createDom("div",{className:"js2uix-grid-load",content:'<div class="innerBox">processing.. please wait!</div>'},!0),this.state.contentBody.append(this.state.loadBox)},setGridBodyItemElement:function(t){var e="";if(t.data&&0<t.data.length&&0<this.props.fieldName.length){for(var i=0;i<t.data.length;i++)if(i<=this.state.listCountNum){e+='<ul class="js2uix-body-row">',this.props.optionNumbering&&(e+='<li data-option="numbering">'+(i+1)+"</li>"),this.props.optionCheckBox&&(e+='<li data-option="checkbox"><input type="checkbox" name="optionCheckBox" /></li>');for(var s=0;s<this.props.fieldName.length;s++){var n="",a=this.props.fieldName[s],r=t.data[i][a];r||(r="",n='data-empty="true"',0===i&&this.state.contentHead.find('li[data-name="'+a+'"]').removeEvent("all")),e+='<li data-name="'+a+'" '+n+' style="text-align:'+this.props.bodyTextAlign+'">'+r+"</li>"}e+="</ul>"}}else e='<ul class="js2uix-body-row"><li class="noGridData">No Data</li></ul>';this.setGridBodyControl(!0),this.state.contentBodyList[0].parentNode.scrollTop=0,this.state.contentBodyList[0].innerHTML=e,this.onCustomizedField(),this.setGridBodyControl(!1),this.setAdjustStyleLayout()},setGridDefaultElement:function(){this.setGridBodyControl(!0),this.element[0].innerHTML=""},setGridHeadControl:function(t){var s=this;t.find("li.field").addEvent("click.js2uix-grid",function(){if(s.state.isControl){var t=p(this),e=t.getAttr("data-order"),i=t.getAttr("data-name");"NORMAL"===e?(t.addAttr("data-order","ASC"),s.state.orderInfo[i]="ASC"):"ASC"===e?(t.addAttr("data-order","DESC"),s.state.orderInfo[i]="DESC"):"DESC"===e&&(t.addAttr("data-order","NORMAL"),delete s.state.orderInfo[i]),s.state.currentPageNum=1,s.onChangeStateEvent()}}),t.find('li[data-option="checkbox"] input[type=checkbox]').addEvent("change.js2uix-grid",function(){if(s.state.isControl){var t=s.state.contentBodyList.find("input[name=optionCheckBox]");p.loop(t,function(t,e){e.checked=this.checked}.bind(this))}})},setGridBodyControl:function(t){t?this.state.contentBody&&this.state.contentBody.find(".js2uix-grid-body-list *").removeEvent("all"):this.onCustomizedEvent()},setGridFootControl:function(t){var i=this;t.find(".first").addEvent("click.js2uix-grid",function(){return 1!==i.state.currentPageNum&&i.state.isControl&&(i.state.currentPageNum=1,i.onChangeStateEvent()),!1}),t.find(".prev").addEvent("click.js2uix-grid",function(){return 1!==i.state.currentPageNum&&i.state.isControl&&(i.state.currentPageNum=i.state.currentPageNum-1!=0?i.state.currentPageNum-1:1,i.onChangeStateEvent()),!1}),t.find(".next").addEvent("click.js2uix-grid",function(){return i.state.currentPageNum<i.state.totalPageNum&&i.state.isControl&&(i.state.currentPageNum=i.state.currentPageNum+1<=i.state.totalPageNum?i.state.currentPageNum+1:i.state.totalPageNum,i.onChangeStateEvent()),!1}),t.find(".last").addEvent("click.js2uix-grid",function(){return i.state.currentPageNum<i.state.totalPageNum&&i.state.isControl&&(i.state.currentPageNum=i.state.totalPageNum,i.onChangeStateEvent()),!1}),t.find(".reload").addEvent("click.js2uix-grid",function(){return i.state.isControl&&i.onChangeStateEvent(),!1}),t.find(".crtPage").addEvent("keyup.js2uix-grid",function(t){var e=this.value;return""===(e=e.replace(/[^0-9]/gi,""))?i.state.currentPage[0].value="":((e=parseInt(e))<1&&(e=1),e>i.state.totalPageNum&&(e=i.state.totalPageNum),i.state.currentPage[0].value=e),13===t.keyCode&&(i.state.currentPageNum=e,i.onChangeStateEvent()),!1}),t.find("select").addEvent("change.js2uix-grid",function(t){return i.state.isControl&&(i.state.currentPageNum=1,i.state.listCountNum=this.value,i.onChangeStateEvent()),!1})},setGridCreateElement:function(){this.setGridDefaultElement(),this.setGridHeadElement(),this.setGridBodyElement(),this.setGridFootElement(),this.setGridLoadElement()},onChangeStateEvent:function(){this.props.onChangeStateEvent,"function"==typeof this.props.onChangeStateEvent&&(this.setLoadEffectStyle(!0),this.setDefaultOptionState(),this.props.onChangeStateEvent({searchOrder:this.state.orderInfo,searchPageNum:this.state.currentPageNum,searchItemListNum:this.state.listCountNum}))},onCustomizedField:function(){if(this.props.onCustomizedField&&"function"==typeof this.props.onCustomizedField){var e=this;this.state.contentBodyList.find("ul").loop(function(t){e.props.onCustomizedField(p(this),e.gridData[t])}),e.gridData=null}},onCustomizedEvent:function(){this.props.onCustomizedEvent&&"function"==typeof this.props.onCustomizedEvent&&this.props.onCustomizedEvent(this.state.contentBodyList)},setData:function(t){t&&"object"==typeof t&&(this.setLoadEffectStyle(!0),this.setGridRenderState(t),this.setGridFootState(t),this.setGridBodyItemElement(t),this.setGridFieldStyle("body"),this.setLoadEffectStyle(!1))},init:function(t){t&&"object"==typeof t&&(p.extend(this.props,t),this.setDefaultRender()&&(this.setGridCreateElement(),this.setGridDefaultState(),this.setCreateCssStyle(),this.setGridFieldStyle("head")))}}).constructor=y,p.extend({D3Control:function(t,e){if(u.d3){if(t&&"string"==typeof t&&0<(t=p(t)).length){if((t=1<t.length?p(t[0]):t).name!==f)return;return new x(t,e)}}else alert("please check! d3.js api")},Grid:function(t){var e;if(t&&("string"==typeof t?e=p(p(t)[0]):t.name&&t.name===f?e=t:t.nodeName&&(e=p(t)),e&&0<e.length))return new y(e)}}),"function"==typeof define&&define.amd&&define("zui",[],function(){return p}),t||(u.zui=p),p});